<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Server Action to manually recompute all partner log note counts -->
        <record id="action_recompute_log_note_counts" model="ir.actions.server">
            <field name="name">Recompute All Partner Log Note Counts</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="state">code</field>
            <field name="code">action = model.recompute_all_log_note_counts()</field>
            <field name="binding_model_id" ref="base.model_res_partner"/>
            <field name="binding_view_types">list</field>
        </record>

        <!-- Server Action to refresh individual partner log note count -->
        <record id="action_refresh_partner_log_note_count" model="ir.actions.server">
            <field name="name">Refresh Log Note Count</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="state">code</field>
            <field name="code">action = records.refresh_log_note_count()</field>
            <field name="binding_model_id" ref="base.model_res_partner"/>
            <field name="binding_view_types">form</field>
        </record>

        <!-- Menu item for the server action (optional - for admins) -->
        <menuitem id="menu_recompute_log_notes"
                  name="Recompute Log Note Counts"
                  parent="base.menu_administration"
                  action="action_recompute_log_note_counts"
                  groups="base.group_system"
                  sequence="100"/>

    </data>
</odoo>